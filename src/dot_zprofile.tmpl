#!/usr/bin/env zsh
{{ if eq .chezmoi.os "darwin" -}}
eval "$(/opt/homebrew/bin/brew shellenv)"
{{- end }}

# pyenv setup
export PYENV_ROOT="${HOME}/.pyenv"  # pyenv install location
if [[ ":${PATH}:" != *":${PYENV_ROOT}/bin:"* ]]; then
  if [[ -s "${PYENV_ROOT}/bin/pyenv" ]]; then
    export PATH="${PYENV_ROOT}/bin:${PATH}";  # add pyenv to path
    eval "$(pyenv init --path)";  # add pyenv shims to path
  else
    echo "pyenv not installed - not added to path";
  fi
fi

# nvm setup
export NVM_DIR="$HOME/.nvm"
{{ if eq .chezmoi.os "darwin" -}}
[ -s "${HOMEBREW_PREFIX}/opt/nvm/nvm.sh" ] && \. "${HOMEBREW_PREFIX}/opt/nvm/nvm.sh"  # This loads nvm
[ -s "${HOMEBREW_PREFIX}/opt/nvm/etc/bash_completion.d/nvm" ] && \. "${HOMEBREW_PREFIX}/opt/nvm/etc/bash_completion.d/nvm"  # This loads nvm bash_completion
{{- else if eq .chezmoi.os "linux" -}}
[ -s "${NVM_DIR}/nvm.sh" ] && \. "${NVM_DIR}/nvm.sh"  # This loads nvm
[ -s "${NVM_DIR}nvm/etc/bash_completion.d/nvm" ] && \. "${NVM_DIR}/nvm/etc/bash_completion.d/nvm"  # This loads nvm bash_completion
{{- end }}
